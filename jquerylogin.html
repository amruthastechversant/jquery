<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Ajax Login page</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" >
		<link rel=stylesheet href="file.css">
</head>
<body class="login">
	<div class="maindiv">
		<div class="container h1 col-lg-auto" >
			<div class="text-center"><img src="https://img.icons8.com/?size=100&id=12369&format=png&color=000000"  alt="logo"></div>
			<h1 class="text-center" >ADDRESS BOOK</h1>
			<h2 class="text-center">LOGIN</h2>
		</div>
			<form id="loginForm"> 
				<div class="container">
					<div class="logintble col-lg-4 mx-auto ">
						<div class="mb-3">
							<input type="text" id="username"  placeholder="username" class="form-control" required>
						</div>
						<div class="mb-5">
							<input type="password" id="password" placeholder="password" class="form-control" required>
						</div>
						<div id="errormsg" style="color:red;"></div>
						<div class="mb-3 col-auto ">
							<button  type="button" id="login_button" value="SIGN IN" class="signindiv">SIGN IN</button>
						</div>
				
					</div>
				</div>
				
			</form>
	
	</div>
	<script>
document.getElementById("login_button").addEventListener("click", function() {
	var Username = document.getElementById('username').value.trim();
	var Password = document.getElementById('password').value.trim();
	var errormsgtext=document.getElementById('errormsg');
	
	
	errormsgtext.textContent='';
	var xhr = new XMLHttpRequest();
    xhr.open("GET", "http://localhost/bootstrap/logindata.txt", true);

    xhr.onreadystatechange = function() {
         if (xhr.readyState == 4) {
                    if (xhr.status == 200) {
                        try {
                            var resultdata = JSON.parse(xhr.responseText);
                            console.log(resultdata);
                            // Compare credentials
                            if (resultdata.username === Username && resultdata.password === Password) {
                                
                                // Redirect to another page
                                window.location.href = 'jqueryindex.html';
                            } else {
                                errormsg.textContent="Invalid credentials";
                            }
                        } catch (e) {
                            console.error("Error parsing JSON data:", e);
                        }
                    } else {
                        alert("Error: " + xhr.status);
                    }
                }
            };
            
            xhr.send();
    });
	</script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
		
</body >
</html>